@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Custom base styles */
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Custom focus styles */
  *:focus {
    outline: none;
  }

  *:focus-visible {
    @apply ring-2 ring-primary-500 ring-offset-2 ring-offset-white dark:ring-offset-gray-900;
  }
}

@layer components {
  /* Extension Specific Component Styles */
  .popup-container {
    @apply w-[400px] h-[600px] bg-white dark:bg-gray-900 overflow-hidden flex flex-col;
  }

  .options-container {
    @apply min-h-screen p-10 bg-gray-50;
  }
  
  /* Dashboard Grid System */
  .dashboard-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 1rem;
    grid-auto-rows: 100px;
    width: 100%;
  }

  @media (max-width: 640px) {
    .dashboard-grid {
      grid-template-columns: repeat(4, 1fr);
      gap: 0.75rem;
      grid-auto-rows: 80px;
    }
  }

  @media (min-width: 641px) and (max-width: 1024px) {
    .dashboard-grid {
      grid-template-columns: repeat(8, 1fr);
      gap: 1rem;
      grid-auto-rows: 90px;
    }
  }

  /* Widget Base Styles */
  .widget-container {
    @apply relative bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200/50 dark:border-gray-700/50 transition-all duration-200 overflow-hidden;
  }

  .widget-container:hover {
    @apply shadow-md border-gray-300/50 dark:border-gray-600/50;
  }

  /* Glass morphism effects */
  .glass {
    @apply backdrop-blur-xl bg-white/70 dark:bg-gray-900/70;
  }

  /* Widget drag handle */
  .drag-handle {
    @apply absolute top-2 right-2 p-1.5 rounded-lg bg-gray-100/50 dark:bg-gray-700/50 opacity-0 transition-opacity duration-200 cursor-move;
  }

  .widget-container:hover .drag-handle {
    @apply opacity-100;
  }

  /* Widget skeleton loader */
  .widget-skeleton {
    @apply animate-pulse bg-gray-200 dark:bg-gray-700 rounded-xl;
  }

  /* Widget error state */
  .widget-error {
    @apply flex items-center justify-center h-full text-red-500 dark:text-red-400 text-sm;
  }

  /* Custom container with responsive padding */
  .container {
    @apply w-full max-w-7xl mx-auto;
  }

  /* Card component base styles */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200/50 dark:border-gray-700/50 p-6 transition-all duration-200;
  }

  .card:hover {
    @apply shadow-md border-gray-300/50 dark:border-gray-600/50;
  }

  /* Empty state styles */
  .empty-state {
    @apply flex items-center justify-center min-h-[60vh] text-center;
  }
}

@layer utilities {
  /* Custom utility classes for animations */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }

  /* Drag and drop states */
  .dragging {
    @apply opacity-50 cursor-grabbing;
  }

  .drag-overlay {
    @apply cursor-grabbing rotate-2 scale-105;
  }

  .drop-indicator {
    @apply bg-primary-100 dark:bg-primary-900/20 border-2 border-dashed border-primary-400 dark:border-primary-600 rounded-xl;
  }

  /* Grid utilities */
  .grid-span-1 { grid-column: span 1; }
  .grid-span-2 { grid-column: span 2; }
  .grid-span-3 { grid-column: span 3; }
  .grid-span-4 { grid-column: span 4; }
  .grid-span-5 { grid-column: span 5; }
  .grid-span-6 { grid-column: span 6; }
  
  .grid-row-span-1 { grid-row: span 1; }
  .grid-row-span-2 { grid-row: span 2; }
  .grid-row-span-3 { grid-row: span 3; }
  .grid-row-span-4 { grid-row: span 4; }

  /* Responsive grid utilities */
  @media (max-width: 640px) {
    .grid-span-3, .grid-span-4, .grid-span-5, .grid-span-6 {
      grid-column: span 4;
    }
  }

  @media (min-width: 641px) and (max-width: 1024px) {
    .grid-span-5, .grid-span-6 {
      grid-column: span 4;
    }
  }
}

/* Keyframe animations */
@keyframes scaleIn {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* Custom scrollbar styles */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  @apply bg-gray-100 dark:bg-gray-800 rounded-full;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  @apply bg-gray-300 dark:bg-gray-600 rounded-full hover:bg-gray-400 dark:hover:bg-gray-500;
}
